<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Diffusion Lighthouse</title>

    <link rel="stylesheet" href="style.css" />

    <link rel="icon" type="image/png" sizes="32x32" href="public/assets/brand/favicon-32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="public/assets/brand/favicon-16.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="public/assets/brand/apple-touch-icon.png" />
    <meta name="theme-color" content="#0b0f14" />
  </head>

  <body>
    <header class="container">
      <div class="hero">
        <div class="brand">
          <div class="brandRow">
            <img class="logo" src="public/assets/brand/logo.png" alt="Diffusion Lighthouse logo" />
            <div>
              <h1>Diffusion Lighthouse</h1>
              <p>Dataset-first index of diffusion papers.</p>
            </div>
          </div>
        </div>

        <div class="kpis">
          <div class="kpi"><span id="total">0</span> papers</div>
          <div class="kpi"><span id="count">0</span> results</div>
        </div>
      </div>

      <div class="controls">
        <input id="q" type="search" placeholder="Search title, authors, venue, tags..." autocomplete="off" />

        <select id="impact">
          <option value="">All impact types</option>
        </select>

        <select id="tag">
          <option value="">All tags</option>
        </select>

        <select id="sort">
          <option value="new">Sort: newest</option>
          <option value="old">Sort: oldest</option>
          <option value="title">Sort: title</option>
          <option value="cites">Sort: citations</option>
        </select>

        <button id="clear" type="button">Clear</button>
      </div>

      <!-- JS will populate this from papers.json (citations_meta) -->
      <div class="smallMeta" id="citeMeta" style="margin-top:6px;"></div>
    </header>

    <main class="container">
      <div id="list" class="list"></div>
    </main>

    <footer class="container muted footer">
      <span>Powered by <code>data/papers.yaml</code> → <code>papers.json</code></span>
    </footer>

    <!-- Cite modal -->
    <div class="modal" id="citeModal" aria-hidden="true">
      <div class="modalOverlay" id="citeOverlay"></div>
      <div class="modalPanel" role="dialog" aria-modal="true" aria-labelledby="citeTitle">
        <div class="modalHeader">
          <div>
            <div class="modalTitle" id="citeTitle">Cite</div>
            <div class="modalSubtitle" id="citeSubtitle"></div>
          </div>
          <button class="iconBtn" id="citeClose" type="button" aria-label="Close">✕</button>
        </div>

        <textarea class="bibtexBox" id="bibtexBox" spellcheck="false"></textarea>

        <div class="modalActions">
          <button id="copyBibtex" type="button">Copy BibTeX</button>
          <a id="openScholar" class="linkBtn" href="#" target="_blank" rel="noreferrer">Open Scholar</a>
          <button id="closeBibtex" type="button" class="ghostBtn">Close</button>
        </div>

        <div class="modalFootnote" id="citeFootnote"></div>
      </div>
    </div>


    <script src="app.js"></script>
  </body>
</html>
